/*!
imgLiquid v0.9.944 / 03-05-2013
jQuery plugin to resize images to fit in a container.
Copyright (c) 2012 Alejandro Emparan (karacas) @krc_ale
Dual licensed under the MIT and GPL licenses
https://github.com/karacas/imgLiquid
**/
var imgLiquid=imgLiquid||{VER:"0.9.944"};imgLiquid.bgs_Available=!1,imgLiquid.bgs_CheckRunned=!1,imgLiquid.injectCss=".imgLiquid img {visibility:hidden}",function(s){s.fn.extend({imgLiquid:function(i){this.defaults={fill:!0,verticalAlign:"center",horizontalAlign:"center",useBackgroundSize:!0,useDataHtmlAttr:!0,responsive:!0,delay:0,fadeInTime:0,removeBoxBackground:!0,hardPixels:!0,responsiveCheckTime:500,timecheckvisibility:500,onStart:null,onFinish:null,onItemStart:null,onItemFinish:null,onItemError:null},imgLiquid.bgs_CheckRunned||(imgLiquid.bgs_CheckRunned=!0,t=s('<span style="background-size:cover" />'),s("body").append(t),(e=t[0])&&window.getComputedStyle&&(e=window.getComputedStyle(e,null))&&e.backgroundSize&&(imgLiquid.bgs_Available="cover"===e.backgroundSize),t.remove());var t,e,o=this;return this.options=i,this.settings=s.extend({},this.defaults,this.options),this.settings.onStart&&this.settings.onStart(),this.each(function(l){var i,t,g=o.settings,u=s(this),h=s("img:first",u);function e(){(g.responsive||h.data("imgLiquid_oldProcessed"))&&h.data("imgLiquid_settings")&&(g=h.data("imgLiquid_settings"),u.actualSize=u.get(0).offsetWidth+u.get(0).offsetHeight/1e4,u.sizeOld&&u.actualSize!==u.sizeOld&&d(),u.sizeOld=u.actualSize,setTimeout(e,g.responsiveCheckTime))}function a(){h.data("imgLiquid_error",!0),u.addClass("imgLiquid_error"),g.onItemError&&g.onItemError(l,u,h),m()}function d(){var i,t,e,a,d,n=0,o=0,s=u.width(),r=u.height();h.data("owidth")===undefined&&h.data("owidth",h[0].width),h.data("oheight")===undefined&&h.data("oheight",h[0].height),a=!g.fill&&h.data("owidth")<=s&&h.data("oheight")<=r?(t=i="auto",e=h.data("owidth"),h.data("oheight")):g.fill===s/r>=h.data("owidth")/h.data("oheight")?(i="100%",t="auto",e=Math.floor(s),Math.floor(s*(h.data("oheight")/h.data("owidth")))):(i="auto",t="100%",e=Math.floor(r*(h.data("owidth")/h.data("oheight"))),Math.floor(r)),s=s-e,"left"===(d=g.horizontalAlign.toLowerCase())&&(o=0),"center"===d&&(o=.5*s),"right"===d&&(o=s),-1!==d.indexOf("%")&&0<(d=parseInt(d.replace("%",""),10))&&(o=s*d*.01),s=r-a,"top"===(d=g.verticalAlign.toLowerCase())&&(n=0),"center"===d&&(n=.5*s),"bottom"===d&&(n=s),-1!==d.indexOf("%")&&0<(d=parseInt(d.replace("%",""),10))&&(n=s*d*.01),g.hardPixels&&(i=e,t=a),h.css({width:i,height:t,"margin-left":Math.floor(o),"margin-top":Math.floor(n)}),h.data("imgLiquid_oldProcessed")||(h.fadeTo(g.fadeInTime,1),h.data("imgLiquid_oldProcessed",!0),g.removeBoxBackground&&u.css("background-image","none"),u.addClass("imgLiquid_nobgSize"),u.addClass("imgLiquid_ready")),g.onItemFinish&&g.onItemFinish(l,u,h),m()}function m(){l===o.length-1&&o.settings.onFinish&&o.settings.onFinish()}(h.length?(g=h.data("imgLiquid_settings")?(u.removeClass("imgLiquid_error").removeClass("imgLiquid_ready"),s.extend({},h.data("imgLiquid_settings"),o.options)):s.extend({},o.settings,function(){var i={};{var t,e,a;o.settings.useDataHtmlAttr&&(t=u.attr("data-imgLiquid-fill"),e=u.attr("data-imgLiquid-horizontalAlign"),a=u.attr("data-imgLiquid-verticalAlign"),"true"!==t&&"false"!==t||(i.fill=Boolean("true"===t)),e===undefined||"left"!==e&&"center"!==e&&"right"!==e&&-1===e.indexOf("%")||(i.horizontalAlign=e),a===undefined||"top"!==a&&"bottom"!==a&&"center"!==a&&-1===a.indexOf("%")||(i.verticalAlign=a))}imgLiquid.isIE&&o.settings.ieFadeInDisabled&&(i.fadeInTime=0);return i}()),h.data("imgLiquid_settings",g),g.onItemStart&&g.onItemStart(l,u,h),imgLiquid.bgs_Available&&g.useBackgroundSize?(-1===u.css("background-image").indexOf(encodeURI(h.attr("src")))&&(i=h.data("src"),t=h.attr("src"),i!==undefined&&(t=h.data("src")),u.css({"background-image":'url("'+encodeURI(t)+'")'})),u.css({"background-size":!g.fill&&h[0].width<=u.width()&&h[0].height<=u.height()?"auto":g.fill?"cover":"contain","background-position":(g.horizontalAlign+" "+g.verticalAlign).toLowerCase(),"background-repeat":"no-repeat"}),s("a:first",u).css({display:"block",width:"100%",height:"100%"}),s("img",u).css({display:"none"}),g.onItemFinish&&g.onItemFinish(l,u,h),u.addClass("imgLiquid_bgSize"),u.addClass("imgLiquid_ready"),m):function n(){{var i;if(h.data("oldSrc")&&h.data("oldSrc")!==h.attr("src"))return(i=h.clone().removeAttr("style")).data("imgLiquid_settings",h.data("imgLiquid_settings")),h.parent().prepend(i),h.remove(),(h=i)[0].width=0,void setTimeout(n,10)}if(h.data("imgLiquid_oldProcessed"))return void d();h.data("imgLiquid_oldProcessed",!1);h.data("oldSrc",h.attr("src"));s("img:not(:first)",u).css("display","none");u.css({overflow:"hidden"});h.fadeTo(0,0).removeAttr("width").removeAttr("height").css({visibility:"visible","max-width":"none","max-height":"none",width:"auto",height:"auto",display:"block"});h.on("error",a);h[0].onerror=a;function t(){h.data("imgLiquid_error")||h.data("imgLiquid_loaded")||h.data("imgLiquid_oldProcessed")||(u.is(":visible")&&h[0].complete&&0<h[0].width&&0<h[0].height?(h.data("imgLiquid_loaded",!0),setTimeout(d,l*g.delay)):setTimeout(t,g.timecheckvisibility))}t();e()}):a)()})}})}(jQuery),function(){var i=imgLiquid.injectCss,t=document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i)),t.appendChild(e)}();